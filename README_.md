# PWM demo

???????? ??????, 4 ?????? ???, 2 ?????? ?????????????? (0, 1) ? 2 ?????? ????????????? (2, 3). 

Xilinx Vivado 2018.3

## TO DO

* **??????:**
    * ???????? ??????? ??????? ???????? ??????. 
    * ?????????? ????? ??? ?????? (??????? ????? ? ??????????????? ???????).
* **????? ??????????? ??? ????**

## ???????????? ?????????? ????? MYiR

[MYiR Z-turn Board V2](https://www.myirtech.com/list.asp?id=708)

[Microphase-Z7-Lite
](https://github.com/hw/Microphase-Z7-Lite)

## ?????????

```
pwm_demo
??? src
?   ??? pwm_platform.vhd // ??????? ???????
?   ??? pwm_l.vhd // ????????????? (?????) ???
?   ??? pwm_c.vhd // ???????????? (??????????????) ???
??? tb
?   ??? tb_pwm_platform.vhd // test bench
??? ip
?   ??? dds_compiler_0 // ????????? ????????? ??????
???
```

## ???????????



## ????????? ????????????

* ???????? ??????? 100 ???, ?????? 10 ?? (??????? ??????? 5 ??).
* ?????????? ????????? ??????? ? ???????? (???????? ??? ???) ???????? 16 ??? (0 - 65535).
* ??????? ???????? ??????? ?? dds compiler'? - 15.258 ??? (???????? ????????? ??????? ????? ?? ????????????? ???????? ???????).
* ?????????? ? ??????? ???:

    | ????????? | ??????? ???, ??? | ??????????, ??? | 
    |---|---|---|
    | 1 | 0.001525 | 15.9 |
    | 3 | 0.004577 | 14.4 |
    | 5 | 0.007629 | 13.7 |
    | 51 | 0.077821 | 10.3 |
    | 255 | 0.389105 | 8.0 |
    | 771 | 1.176470 | 4.4 |

### ????????? ? ???????

?????????? ???????? ?? 16 ???. ????????? ???????? ???????? ?? 0 ?? 65535. ?????, ????? ????? ????? ??????? ???? ???????? ??????? ? ??? ?????????? ?????? 65535 ?????? ????? ??????????? ??????? ???????? ??? ??? ?????????? ????? ??? ???????????? ?????? (??? ? ????? ? ????????????), ??? ?????????? ???????????? ????? ? ????????? ??????.

??? ???????? ????? 65 535: 
1, 3, 5, 15, 17, 51, 85, 255, 257, 771, 1285, 3855, 4369, 13107, 21845, 65535. 

??? ???????? ? ???? ?????????? ??? ???????? ???????? ???????. 

$$ PWM\_Levels = \frac{2^R-1}{Increment} = \frac{2^{16} - 1 = 65535}{51} = 1285 $$

$$ f_{PWM} = \frac{f_{clk}}{PVM\_Levels} = \frac{100 \cdot 10^6}{1285} = 0.077821 = 77.8\, ??? $$

$$ PWM\_Resolution = \log_2(PWM\_Levels) = \log_2(1285) = 10.3\, ??? $$






